<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keranjang - BooKu.id</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/keranjang.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="container">
        <div class="header-content">
          <a href="#" class="logo">
            <div class="logo-g">B</div>
            <div class="logo-text">BooKu.id</div>
          </a>

          <div class="search-bar">
            <input
              type="text"
              placeholder="Cari Produk, Judul Buku, atau Penulis"
            />
            <button><i class="fas fa-search"></i></button>
          </div>

          <a href="#" class="cart-icon">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-badge">1</span>
          </a>

          <div class="profile-circle" style="background-image: url('https://i.pinimg.com/736x/fe/ab/55/feab553adf0eda8ebb5e9ac63407e117.jpg'); background-size: cover; background-position: center; width: 50px; height: 50px; border-radius: 50%;"></div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container">
      <div class="main-content">
        <!-- Cart Section -->
        <div class="cart-section">
          <h1 class="page-title">Keranjang</h1>

          <div class="cart-header">
            <div class="select-all">
              <input type="checkbox" id="select-all" />
              <label for="select-all">Semua</label>
            </div>
            <div class="delete-all">
              <i class="fas fa-trash"></i>
              <span>Hapus</span>
            </div>
          </div>

          <!-- Store Section -->
          <div class="store-section">
            <div class="store-header">
              <input type="checkbox" id="store-select" checked />
              <i class="fas fa-store store-icon"></i>
              <span class="store-name">Gramedia Jakarta Matraman</span>
            </div>

            <!-- Cart Items -->
            <div class="cart-item">
              <input type="checkbox" class="item-checkbox" checked />
              <div class="item-image">
                <img
                  src="https://image.gramedia.net/rs:fit:256:0/plain/https://cdn.gramedia.com/uploads/products/95ob5m98ur.jpg"
                  alt="Seporsi Mie Ayam Sebelum Mati"
                />
              </div>
              <div class="item-details">
                <div class="item-format">Soft Cover</div>
                <div class="item-title">Seporsi Mie Ayam Sebelum Mati</div>
                <div class="item-price">
                  <span class="current-price">Rp79.050</span>
                  <span class="original-price">Rp93.000</span>
                  <span class="discount-badge">15%</span>
                </div>
              </div>
              <div class="item-actions">
                <div class="quantity-control">
                  <button class="qty-btn" onclick="decreaseQty(this)">
                    <i class="fas fa-minus"></i>
                  </button>
                  <input type="text" class="qty-input" value="1" readonly />
                  <button class="qty-btn" onclick="increaseQty(this)">
                    <i class="fas fa-plus"></i>
                  </button>
                </div>
                <button class="delete-item" onclick="removeItem(this)">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>

            

            
          </div>
        </div>

        <!-- Cart Summary -->
        <div class="cart-summary">
          <h3 class="summary-title">Ringkasan Keranjang</h3>

          <div class="summary-row">
            <span class="summary-label">Total Harga (3 Barang)</span>
            <span class="summary-value">Rp417.000</span>
          </div>

          <div class="summary-row">
            <span class="summary-label">Diskon Belanja</span>
            <span class="summary-value discount-value">-Rp78.650</span>
          </div>

          <div class="summary-row total-row">
            <span class="total-label">Subtotal</span>
            <span class="total-value">Rp338.350</span>
          </div>
<a href="pembayaran1.html">
          <button class="checkout-btn" onclick="checkout()">Checkout</button></a>
        </div>
      </div>

      <!-- Recommendations -->
      <div class="recommendations">
        <h2 class="recommendations-title">Rekomendasi Anda</h2>
        <div class="recommendations-grid">
          <button
            class="nav-arrow prev"
            onclick="scrollRecommendations('left')"
          >
            <i class="fas fa-chevron-left"></i>
          </button>

          <div class="recommendation-card">
            <div class="rec-image">
              <img
                src="https://image.gramedia.net/rs:fit:256:0/plain/https://cdn.gramedia.com/uploads/products/95ob5m98ur.jpg"
                alt="Seporsi Mie Ayam Sebelum Mati"
              />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">Seporsi Mie Ayam Sebelum Mati</h3>
              <p class="rec-author">Brian Khrisna</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp79.050</span>
                <span class="rec-original-price">Rp93.000</span>
                <span class="rec-discount">15%</span>
              </div>
            </div>
          </div>

          <div class="recommendation-card">
            <div class="rec-image">
              <img
                src="https://image.gramedia.net/rs:fit:256:0/plain/https://cdn.gramedia.com/uploads/items/9786024246945_Laut-Bercerita.png"
                alt="Laut Bercerita"
              />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">Laut Bercerita</h3>
              <p class="rec-author">Leila S. Chudori</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp81.650</span>
                <span class="rec-original-price">Rp96.000</span>
                <span class="rec-discount">29%</span>
              </div>
            </div>
          </div>

          <div class="recommendation-card">
            <div class="rec-image">
              <img
                src="https://image.gramedia.net/rs:fit:0:0/plain/https://cdn.gramedia.com/uploads/products/-ns-aa-n-x.jpg"
                alt="Seorang Wanita yang Ingin Menjadi Pohon"
              />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">Seorang Wanita yang Ingin Menjadi Pohon</h3>
              <p class="rec-author">Sr. Andriana Kurniawan, S</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp32.450</span>
                <span class="rec-original-price">Rp38.000</span>
                <span class="rec-discount">15%</span>
              </div>
            </div>
          </div>

          <div class="recommendation-card">
            <div class="rec-image">
              <img
                src="https://image.gramedia.net/rs:fit:0:0/plain/https://cdn.gramedia.com/uploads/items/9786020633176_.Atomic_Habit.jpg"
                alt="Atomic Habits"
              />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">
                Atomic Habits: Perubahan Kecil yang Memberikan Hasil Luar Biasa
              </h3>
              <p class="rec-author">James Clear</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp91.800</span>
                <span class="rec-original-price">Rp108.000</span>
                <span class="rec-discount">15%</span>
              </div>
            </div>
          </div>

          <div class="recommendation-card">
            <div class="rec-image">
              <img
                src="https://image.gramedia.net/rs:fit:0:0/plain/https://cdn.gramedia.com/uploads/picture_meta/2023/12/1/fj23u35u6cqqpb2tpz5x34.jpg"
                alt="Sebuah Pria yang Melata Duka dengan Melata"
              />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">
                Sebuah Pria yang Melata Duka dengan Melata
              </h3>
              <p class="rec-author">Sr. Andriana Kurniawan, S</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp80.750</span>
                <span class="rec-original-price">Rp95.000</span>
                <span class="rec-discount">15%</span>
              </div>
            </div>
          </div>

          <div class="recommendation-card">
            <div class="rec-image">
              <img
                src="https://image.gramedia.net/rs:fit:256:0/plain/https://cdn.gramedia.com/uploads/items/psychology_of_money.jfif.png"
                alt="The Psychology of Money"
              />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">The Psychology of Money</h3>
              <p class="rec-author">Morgan Housel</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp76.500</span>
                <span class="rec-original-price">Rp90.000</span>
                <span class="rec-discount">15%</span>
              </div>
            </div>
          </div>

          <div class="recommendation-card">
            <div class="rec-image">
              <img src="https://image.gramedia.net/rs:fit:0:0/plain/https://cdn.gramedia.com/uploads/picture_meta/2024/1/8/m5b3gwzj4fpaxwq7lk4b9s.jpg" alt="Madlog" />
              <button class="wishlist-btn">
                <i class="far fa-heart"></i>
              </button>
            </div>
            <div class="rec-info">
              <h3 class="rec-title">Madlog: Memoar Mahfud MD</h3>
              <p class="rec-author">Mahfud MD</p>
              <div class="rec-price">
                <span class="rec-current-price">Rp126.000</span>
                <span class="rec-original-price">Rp148.000</span>
                <span class="rec-discount">15%</span>
              </div>
            </div>
          </div>

          <button
            class="nav-arrow next"
            onclick="scrollRecommendations('right')"
          >
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-top">
          <div class="footer-logo">
            <div class="logo-g">B</div>
            <div class="logo-text">BooKu.id</div>
          </div>
          <div class="footer-tagline">
            Toko buku online terbesar, terlengkap dan terpercaya di Indonesia
          </div>
        </div>

        <div class="footer-content">
          <div class="footer-column">
            <h3>Produk BooKu</h3>
            <ul class="footer-links">
              <li><a href="#">BooKu Affiliate</a></li>
              <li><a href="#">Mitra BooKu</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Informasi Berbelanja</h3>
            <ul class="footer-links">
              <li><a href="#">Berbelanja</a></li>
              <li><a href="#">Pembayaran</a></li>
              <li><a href="#">Pengiriman</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Tentang BooKu</h3>
            <ul class="footer-links">
              <li><a href="#">Tentang Kami</a></li>
              <li><a href="#">Toko Kami</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Lainnya</h3>
            <ul class="footer-links">
              <li><a href="#">Blog</a></li>
              <li><a href="#">Kebijakan Privasi</a></li>
              <li><a href="#">Hubungi Kami</a></li>
              <li><a href="#">Kerja Sama</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Aplikasi Seluler Kami</h3>
            <p>
              Download aplikasi BooKu.id yang tersedia di seluruh perangkat
              iOS dan Android
            </p>
            <div class="app-download">
              <a href="#" class="app-btn">
                <img
                  src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/App_Store_%28iOS%29.svg/2048px-App_Store_%28iOS%29.svg.png"
                  alt="App Store"
                />
                <span>App Store</span>
              </a>
              <a href="#" class="app-btn">
                <img
                  src="https://logos-world.net/wp-content/uploads/2020/11/Google-Play-Emblem.png"
                  alt="Google Play"
                />
                <span>Google Play</span>
              </a>
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="copyright">© 2025 PT BooKu Asri Media</div>
          <div class="social-links">
            <a href="#" class="social-link"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Quantity control functions
      function increaseQty(button) {
        const input = button.previousElementSibling;
        let currentValue = parseInt(input.value);
        input.value = currentValue + 1;
        updateCartSummary();

        // Animation
        button.style.transform = "scale(0.9)";
        setTimeout(() => {
          button.style.transform = "scale(1)";
        }, 150);
      }

      function decreaseQty(button) {
        const input = button.nextElementSibling;
        let currentValue = parseInt(input.value);
        if (currentValue > 1) {
          input.value = currentValue - 1;
          updateCartSummary();
        }

        // Animation
        button.style.transform = "scale(0.9)";
        setTimeout(() => {
          button.style.transform = "scale(1)";
        }, 150);
      }

      // Remove item function
      function removeItem(button) {
        const cartItem = button.closest(".cart-item");

        // Confirmation
        if (
          confirm("Apakah Anda yakin ingin menghapus item ini dari keranjang?")
        ) {
          cartItem.style.animation = "slideInLeft 0.3s ease reverse";
          setTimeout(() => {
            cartItem.remove();
            updateCartSummary();
            updateCartBadge();
          }, 300);
        }
      }

      // Update cart summary
      function updateCartSummary() {
        const cartItems = document.querySelectorAll(".cart-item");
        let totalItems = 0;
        let totalPrice = 0;
        let totalDiscount = 0;

        cartItems.forEach((item) => {
          const checkbox = item.querySelector(".item-checkbox");
          if (checkbox.checked) {
            const qty = parseInt(item.querySelector(".qty-input").value);
            const currentPrice = parseFloat(
              item
                .querySelector(".current-price")
                .textContent.replace("Rp", "")
                .replace(".", "")
            );
            const originalPrice = parseFloat(
              item
                .querySelector(".original-price")
                .textContent.replace("Rp", "")
                .replace(".", "")
            );

            totalItems += qty;
            totalPrice += originalPrice * qty;
            totalDiscount += (originalPrice - currentPrice) * qty;
          }
        });

        const subtotal = totalPrice - totalDiscount;

        // Update summary display
        document.querySelector(
          ".summary-row .summary-value"
        ).textContent = `Rp${totalPrice.toLocaleString("id-ID")}`;
        document.querySelector(
          ".discount-value"
        ).textContent = `-Rp${totalDiscount.toLocaleString("id-ID")}`;
        document.querySelector(
          ".total-value"
        ).textContent = `Rp${subtotal.toLocaleString("id-ID")}`;
        document.querySelector(
          ".summary-label"
        ).textContent = `Total Harga (${totalItems} Barang)`;
      }

      // Update cart badge
      function updateCartBadge() {
        const cartItems = document.querySelectorAll(".cart-item").length;
        const badge = document.querySelector(".cart-badge");
        badge.textContent = cartItems;

        if (cartItems === 0) {
          badge.style.display = "none";
        } else {
          badge.style.display = "flex";
        }
      }

      // Checkout function
      function checkout() {
        const checkedItems = document.querySelectorAll(
          ".item-checkbox:checked"
        ).length;

        if (checkedItems === 0) {
          alert("Pilih minimal satu item untuk checkout!");
          return;
        }

        const button = document.querySelector(".checkout-btn");
        button.innerHTML =
          '<i class="fas fa-spinner fa-spin"></i> Processing...';
        button.disabled = true;

        setTimeout(() => {
          alert("Redirecting to checkout page...");
          button.innerHTML = "Checkout";
          button.disabled = false;
        }, 2000);
      }

      // Select all functionality
      document
        .getElementById("select-all")
        .addEventListener("change", function () {
          const itemCheckboxes = document.querySelectorAll(".item-checkbox");
          const storeCheckbox = document.getElementById("store-select");

          itemCheckboxes.forEach((checkbox) => {
            checkbox.checked = this.checked;
          });
          storeCheckbox.checked = this.checked;

          updateCartSummary();
        });

      // Individual item checkbox functionality
      document.querySelectorAll(".item-checkbox").forEach((checkbox) => {
        checkbox.addEventListener("change", function () {
          updateCartSummary();

          // Update select all checkbox
          const allChecked = Array.from(
            document.querySelectorAll(".item-checkbox")
          ).every((cb) => cb.checked);
          const selectAllCheckbox = document.getElementById("select-all");
          selectAllCheckbox.checked = allChecked;

          // Update store checkbox
          const storeItems =
            this.closest(".store-section").querySelectorAll(".item-checkbox");
          const storeAllChecked = Array.from(storeItems).every(
            (cb) => cb.checked
          );
          document.getElementById("store-select").checked = storeAllChecked;
        });
      });

      // Store checkbox functionality
      document
        .getElementById("store-select")
        .addEventListener("change", function () {
          const storeItems =
            this.closest(".store-section").querySelectorAll(".item-checkbox");
          storeItems.forEach((checkbox) => {
            checkbox.checked = this.checked;
          });
          updateCartSummary();
        });

      // Wishlist functionality
      document.querySelectorAll(".wishlist-btn").forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          const icon = this.querySelector("i");

          if (icon.classList.contains("far")) {
            icon.classList.remove("far");
            icon.classList.add("fas");
            this.style.backgroundColor = "#e74c3c";
            this.style.color = "white";

            // Animation
            this.animate(
              [
                { transform: "scale(1)" },
                { transform: "scale(1.3)" },
                { transform: "scale(1)" },
              ],
              {
                duration: 500,
                easing: "ease",
              }
            );
          } else {
            icon.classList.remove("fas");
            icon.classList.add("far");
            this.style.backgroundColor = "rgba(255,255,255,0.9)";
            this.style.color = "#333";
          }
        });
      });

      // Scroll recommendations
      function scrollRecommendations(direction) {
        const grid = document.querySelector(".recommendations-grid");
        const scrollAmount = 300;

        if (direction === "left") {
          grid.scrollBy({ left: -scrollAmount, behavior: "smooth" });
        } else {
          grid.scrollBy({ left: scrollAmount, behavior: "smooth" });
        }
      }

      // Delete all functionality
      document
        .querySelector(".delete-all")
        .addEventListener("click", function () {
          const checkedItems = document.querySelectorAll(
            ".item-checkbox:checked"
          );

          if (checkedItems.length === 0) {
            alert("Pilih item yang ingin dihapus!");
            return;
          }

          if (
            confirm(
              `Apakah Anda yakin ingin menghapus ${checkedItems.length} item dari keranjang?`
            )
          ) {
            checkedItems.forEach((checkbox) => {
              const cartItem = checkbox.closest(".cart-item");
              cartItem.style.animation = "slideInLeft 0.3s ease reverse";
              setTimeout(() => {
                cartItem.remove();
              }, 300);
            });

            setTimeout(() => {
              updateCartSummary();
              updateCartBadge();
            }, 350);
          }
        });

      // Search functionality
      document
        .querySelector(".search-bar button")
        .addEventListener("click", function () {
          const searchInput = document.querySelector(".search-bar input");
          if (searchInput.value.trim() !== "") {
            alert(`Mencari: ${searchInput.value}`);
          }
        });

      // Enter key for search
      document
        .querySelector(".search-bar input")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            document.querySelector(".search-bar button").click();
          }
        });

      // Smooth scroll animations
      const animateOnScroll = () => {
        const elements = document.querySelectorAll(".recommendation-card");

        elements.forEach((element, index) => {
          const elementTop = element.getBoundingClientRect().top;
          const elementVisible = 150;

          if (elementTop < window.innerHeight - elementVisible) {
            element.style.animationDelay = `${index * 0.1}s`;
            element.style.opacity = "1";
            element.style.transform = "translateY(0)";
          }
        });
      };

      window.addEventListener("scroll", animateOnScroll);
      window.addEventListener("load", animateOnScroll);

      // Initialize cart summary
      updateCartSummary();

      // Logo click to scroll to top
      document.querySelector(".logo").addEventListener("click", function (e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });

      // Category dropdown
      document
        .querySelector(".category-btn")
        .addEventListener("click", function () {
          alert("Kategori dropdown akan muncul di sini");
        });

      // Add hover effects to cart items
      document.querySelectorAll(".cart-item").forEach((item) => {
        item.addEventListener("mouseenter", function () {
          this.style.transform = "translateX(5px)";
        });

        item.addEventListener("mouseleave", function () {
          this.style.transform = "translateX(0)";
        });
      });
    </script>
  </body>
</html>
