<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transaksi - Gramedia.com</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/historitransaksiuser.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="" class="logo">
                    <div class="logo-g">B</div>
                    <div class="logo-text">BooKu.id</div>
                </a>
                
                <div class="search-bar">
                    <input type="text" placeholder="Cari Produk, Judul Buku, atau Penulis">
                    <button><i class="fas fa-search"></i></button>
                </div>
                
                <a href="#" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                </a>
                
                <!-- <div class="auth-buttons">
                    <button class="btn btn-outline">Masuk</button>
                    <button class="btn btn-primary">Daftar</button>
                </div> -->
                <!-- <div class="profile-circle" style="background-image: url('https://i.pinimg.com/736x/fe/ab/55/feab553adf0eda8ebb5e9ac63407e117.jpg'); background-size: cover; background-position: center; width: 50px; height: 50px; border-radius: 50%;"></div> -->
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
      <div class="main-content">
        <!-- Sidebar -->
        <div class="sidebar">
          <div class="user-profile">
            <img
              src="https://i.pinimg.com/736x/fe/ab/55/feab553adf0eda8ebb5e9ac63407e117.jpg"
              alt="Profile Avatar"
              class="profile-avatar"
            />
            <div class="profile-info">
              <h3>aleronmaulanafirjatullah</h3>
              <div class="profile-email">
                aleronmaulanafirjatullah@gmail.com
              </div>
            </div>
          </div>

          <ul class="sidebar-menu">
            <li><a href="#" class="active">Transaksi</a></li>
            <li><a href="#">Wishlist</a></li>
            <li><a href="/html/admin/dashboard_admin.html">Akun</a></li>
            <li><a href="#">Alamat</a></li>
          </ul>
        </div>

        <!-- Content Area -->
        <div class="content-area">
          <h1 class="page-title">Transaksi</h1>

          <!-- Filters -->
          <div class="filters">
            <div class="search-filter">
              <input
                type="text"
                class="filter-input"
                placeholder="Cari nama produk atau no. pemesanan"
              />
              <i class="fas fa-search filter-icon"></i>
            </div>

            <div class="filter-dropdown">
              <button class="dropdown-btn" onclick="toggleDropdown(this)">
                <span>Semua Status</span>
                <i class="fas fa-chevron-down dropdown-icon"></i>
              </button>
            </div>

            <div class="filter-dropdown">
              <button class="dropdown-btn" onclick="toggleDropdown(this)">
                <span>Pilih Tanggal</span>
                <i class="fas fa-chevron-down dropdown-icon"></i>
              </button>
            </div>
          </div>

          <!-- Transaction List -->
          <div class="transaction-list" id="transactionList">
            <!-- Transaction Item 1 -->
            <div class="transaction-item">
              <div class="transaction-header">
                <div>
                  <div class="transaction-date">02 Juni 2025, 19:27:44</div>
                  <div class="transaction-id">
                    IF0231YSFSL18Z
                    <i
                      class="fas fa-copy copy-id"
                      onclick="copyTransactionId('IF0231YSFSL18Z')"
                    ></i>
                  </div>
                </div>
                <div class="transaction-status status-pending">
                  Menunggu Pembayaran
                </div>
              </div>

              <div class="transaction-content">
                <div class="product-image">
                  <img
                    src="https://image.gramedia.net/rs:fit:256:0/plain/https://cdn.gramedia.com/uploads/products/95ob5m98ur.jpg"
                    alt="Seporsi Mie Ayam Sebelum Mati"
                  />
                </div>
                <div class="product-details">
                  <h3 class="product-title">Seporsi Mie Ayam Sebelum Mati</h3>
                  <div class="product-quantity">1 Barang</div>
                  <div class="payment-method">
                    <div class="payment-icon">QR</div>
                    QRIS
                  </div>
                </div>
              </div>

              <div class="transaction-footer">
                <div></div>
                <div class="payment-info">
                  <div class="payment-label">Total Pembayaran</div>
                  <div class="payment-amount">Rp101.292</div>
                  <div class="payment-deadline">
                    <i class="fas fa-clock deadline-icon"></i>
                    Senin, 02 Juni 2025 - 19:42 WIB
                  </div>
                </div>
              </div>
            </div>

            <!-- Transaction Item 2 -->
            <div class="transaction-item">
              <div class="transaction-header">
                <div>
                  <div class="transaction-date">02 Juni 2025, 19:27:05</div>
                  <div class="transaction-id">
                    IF0231YSEELX61
                    <i
                      class="fas fa-copy copy-id"
                      onclick="copyTransactionId('IF0231YSEELX61')"
                    ></i>
                  </div>
                </div>
                <div class="transaction-status status-pending">
                  Menunggu Pembayaran
                </div>
              </div>

              <div class="transaction-content">
                <div class="product-image">
                  <img
                    src="https://image.gramedia.net/rs:fit:256:0/plain/https://cdn.gramedia.com/uploads/items/9786024246945_Laut-Bercerita.png"
                    alt="Laut Bercerita"
                  />
                </div>
                <div class="product-details">
                  <h3 class="product-title">Laut Bercerita</h3>
                  <div class="product-quantity">1 Barang</div>
                  <div class="payment-method">
                    <div class="payment-icon">QR</div>
                    QRIS
                  </div>
                </div>
              </div>

              <div class="transaction-footer">
                <div></div>
                <div class="payment-info">
                  <div class="payment-label">Total Pembayaran</div>
                  <div class="payment-amount">Rp101.292</div>
                  <div class="payment-deadline">
                    <i class="fas fa-clock deadline-icon"></i>
                    Senin, 02 Juni 2025 - 19:42 WIB
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-top">
          <div class="footer-logo">
            <div class="logo-g">B</div>
            <div class="logo-text">BooKu.id</div>
          </div>
          <div class="footer-tagline">
            Toko buku online terbesar, terlengkap dan terpercaya di Indonesia
          </div>
        </div>

        <div class="footer-content">
          <div class="footer-column">
            <h3>Produk BooKu</h3>
            <ul class="footer-links">
              <li><a href="#">BooKu Affiliate</a></li>
              <li><a href="#">Mitra BooKu</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Informasi Berbelanja</h3>
            <ul class="footer-links">
              <li><a href="#">Berbelanja</a></li>
              <li><a href="#">Pembayaran</a></li>
              <li><a href="#">Pengiriman</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Tentang BooKu</h3>
            <ul class="footer-links">
              <li><a href="#">Tentang Kami</a></li>
              <li><a href="#">Toko Kami</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Lainnya</h3>
            <ul class="footer-links">
              <li><a href="#">Blog</a></li>
              <li><a href="#">Kebijakan Privasi</a></li>
              <li><a href="#">Hubungi Kami</a></li>
              <li><a href="#">Kerja Sama</a></li>
            </ul>
          </div>

          <div class="footer-column">
            <h3>Aplikasi Seluler Kami</h3>
            <p>
              Download aplikasi BooKu.id yang tersedia di seluruh perangkat
              iOS dan Android
            </p>
            <div class="app-download">
              <a href="#" class="app-btn">
                <img
                  src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/App_Store_%28iOS%29.svg/2048px-App_Store_%28iOS%29.svg.png"
                  alt="App Store"
                />
                <span>App Store</span>
              </a>
              <a href="#" class="app-btn">
                <img
                  src="https://logos-world.net/wp-content/uploads/2020/11/Google-Play-Emblem.png"
                  alt="Google Play"
                />
                <span>Google Play</span>
              </a>
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="copyright">© 2025 PT BooKu Asri Media</div>
          <div class="social-links">
            <a href="#" class="social-link"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Toggle dropdown
      function toggleDropdown(button) {
        button.classList.toggle("active");

        // Close other dropdowns
        document.querySelectorAll(".dropdown-btn").forEach((btn) => {
          if (btn !== button) {
            btn.classList.remove("active");
          }
        });
      }

      // Copy transaction ID
      function copyTransactionId(id) {
        navigator.clipboard
          .writeText(id)
          .then(() => {
            showNotification("ID transaksi berhasil disalin!", "success");
          })
          .catch(() => {
            showNotification("Gagal menyalin ID transaksi", "error");
          });
      }

      // Show notification
      function showNotification(message, type) {
        const notification = document.createElement("div");
        const icons = {
          success: "fa-check-circle",
          error: "fa-exclamation-circle",
          info: "fa-info-circle",
        };

        notification.className = `notification ${type}`;
        notification.innerHTML = `
        <i class="fas ${icons[type]}"></i>
        ${message}
    `;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = "slideInRight 0.3s ease reverse";
          setTimeout(() => {
            notification.remove();
          }, 300);
        }, 3000);
      }

      // Search functionality
      document
        .querySelector(".search-input")
        .addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase();
          filterTransactions(searchTerm);
        });

      document
        .querySelector(".filter-input")
        .addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase();
          filterTransactions(searchTerm);
        });

      function filterTransactions(searchTerm) {
        const transactions = document.querySelectorAll(".transaction-item");

        transactions.forEach((transaction) => {
          const title = transaction
            .querySelector(".product-title")
            .textContent.toLowerCase();
          const id = transaction
            .querySelector(".transaction-id")
            .textContent.toLowerCase();

          if (title.includes(searchTerm) || id.includes(searchTerm)) {
            transaction.style.display = "block";
            transaction.style.animation = "slideInUp 0.3s ease";
          } else {
            transaction.style.display = "none";
          }
        });

        // Show empty state if no results
        const visibleTransactions = document.querySelectorAll(
          '.transaction-item[style*="block"]'
        );
        if (visibleTransactions.length === 0 && searchTerm) {
          showEmptyState();
        } else {
          hideEmptyState();
        }
      }

      function showEmptyState() {
        const existingEmpty = document.querySelector(".empty-state");
        if (existingEmpty) return;

        const emptyState = document.createElement("div");
        emptyState.className = "empty-state";
        emptyState.innerHTML = `
        <div class="empty-icon">
            <i class="fas fa-search"></i>
        </div>
        <div class="empty-title">Tidak ada transaksi ditemukan</div>
        <div class="empty-description">
            Coba gunakan kata kunci yang berbeda atau periksa kembali pencarian Anda
        </div>
    `;

        document.getElementById("transactionList").appendChild(emptyState);
      }

      function hideEmptyState() {
        const emptyState = document.querySelector(".empty-state");
        if (emptyState) {
          emptyState.remove();
        }
      }

      // Loading state simulation
      function showLoadingState() {
        const transactionList = document.getElementById("transactionList");
        transactionList.innerHTML = "";

        for (let i = 0; i < 3; i++) {
          const skeleton = document.createElement("div");
          skeleton.className = "skeleton-item";
          skeleton.innerHTML = `
            <div class="skeleton-header">
                <div class="loading-skeleton skeleton-date"></div>
                <div class="loading-skeleton skeleton-status"></div>
            </div>
            <div class="skeleton-content">
                <div class="loading-skeleton skeleton-image"></div>
                <div class="skeleton-details">
                    <div class="loading-skeleton skeleton-title"></div>
                    <div class="loading-skeleton skeleton-quantity"></div>
                    <div class="loading-skeleton skeleton-payment"></div>
                </div>
            </div>
        `;
          transactionList.appendChild(skeleton);
        }
      }

      // Simulate loading on page load
      document.addEventListener("DOMContentLoaded", function () {
        // Add loading animation
        document.body.style.opacity = "0";
        setTimeout(() => {
          document.body.style.transition = "opacity 0.5s ease";
          document.body.style.opacity = "1";
        }, 100);

        console.log("Transaction history page initialized");
      });

      // Sidebar menu interaction
      document.querySelectorAll(".sidebar-menu a").forEach((link) => {
        link.addEventListener("click", function (e) {
          e.preventDefault();

          // Remove active class from all links
          document
            .querySelectorAll(".sidebar-menu a")
            .forEach((l) => l.classList.remove("active"));

          // Add active class to clicked link
          this.classList.add("active");

          // Simulate page change
          if (this.textContent !== "Transaksi") {
            showNotification(`Navigasi ke ${this.textContent}...`, "info");
          }
        });
      });

      // Auto-refresh transactions (simulation)
      setInterval(() => {
        // Simulate new transaction or status update
        const transactions = document.querySelectorAll(".transaction-item");
        if (transactions.length > 0 && Math.random() < 0.1) {
          // 10% chance
          const randomTransaction =
            transactions[Math.floor(Math.random() * transactions.length)];
          const status = randomTransaction.querySelector(".transaction-status");

          if (status.classList.contains("status-pending")) {
            status.textContent = "Pembayaran Berhasil";
            status.className = "transaction-status status-completed";
            showNotification("Status pembayaran diperbarui!", "success");
          }
        }
      }, 30000); // Check every 30 seconds

      // Responsive menu toggle
      function toggleMobileMenu() {
        const sidebar = document.querySelector(".sidebar");
        sidebar.classList.toggle("mobile-open");
      }

      // Add mobile menu styles
      const mobileStyles = `
    @media (max-width: 992px) {
        .sidebar {
            position: fixed;
            top: 0;
            left: -100%;
            height: 100vh;
            z-index: 1000;
            transition: left 0.3s ease;
            width: 280px;
        }
        
        .sidebar.mobile-open {
            left: 0;
        }
        
        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }
        
        .mobile-overlay.active {
            display: block;
        }
    }
`;

      // Add mobile styles to head
      const styleSheet = document.createElement("style");
      styleSheet.textContent = mobileStyles;
      document.head.appendChild(styleSheet);

      // Close dropdown when clicking outside
      document.addEventListener("click", function (e) {
        if (!e.target.closest(".filter-dropdown")) {
          document.querySelectorAll(".dropdown-btn").forEach((btn) => {
            btn.classList.remove("active");
          });
        }
      });

      // Keyboard shortcuts
      document.addEventListener("keydown", function (e) {
        // Ctrl/Cmd + F to focus search
        if ((e.ctrlKey || e.metaKey) && e.key === "f") {
          e.preventDefault();
          document.querySelector(".filter-input").focus();
        }

        // Escape to clear search
        if (e.key === "Escape") {
          document.querySelector(".filter-input").value = "";
          filterTransactions("");
        }
      });

      // Smooth scroll to top
      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      }

      // Add scroll to top button
      const scrollButton = document.createElement("button");
      scrollButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
      scrollButton.style.cssText = `
    position: fixed;
    bottom: 20px;
    right: 80px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #0066cc;
    color: white;
    border: none;
    cursor: pointer;
    display: none;
    z-index: 1000;
    transition: all 0.3s ease;
`;
      scrollButton.onclick = scrollToTop;
      document.body.appendChild(scrollButton);

      // Show/hide scroll button
      window.addEventListener("scroll", function () {
        if (window.scrollY > 300) {
          scrollButton.style.display = "block";
        } else {
          scrollButton.style.display = "none";
        }
      });
    </script>
  </body>
</html>
